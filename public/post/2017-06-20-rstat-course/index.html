<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.25" />
  <meta name="author" content="Anders Sjørslev Schmidt">
  <meta name="description" content="MD/PhD student and Data Science Enthusiasts">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.0/css/academicons.min.css" integrity="sha512-GGGNUPDhnG8LEAEDsjqYIQns+Gu8RBs4j5XGlxl7UfRaZBhCCm5jenJkeJL8uPuOXGqgl8/H1gjlWQDRjd3cUQ==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="/css/hugo-academic.css">
  

  

  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Health &amp; Data Science">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Health &amp; Data Science">

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="/post/2017-06-20-rstat-course/">

  

  <title>First impressions: Teaching basic R stats | Health &amp; Data Science</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Health &amp; Data Science</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#teaching">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">First impressions: Teaching basic R stats</h1>
    

<div class="article-metadata">

  <span class="article-date">
    <time datetime="2017-06-20 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Tue, Jun 20, 2017
    </time>
  </span>

  

  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2f2017-06-20-rstat-course%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=First%20impressions%3a%20Teaching%20basic%20R%20stats&amp;url=%2fpost%2f2017-06-20-rstat-course%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2f2017-06-20-rstat-course%2f&amp;title=First%20impressions%3a%20Teaching%20basic%20R%20stats"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2f2017-06-20-rstat-course%2f&amp;title=First%20impressions%3a%20Teaching%20basic%20R%20stats"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=First%20impressions%3a%20Teaching%20basic%20R%20stats&amp;body=%2fpost%2f2017-06-20-rstat-course%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      

<h2 id="how-do-we-efficiently-teach-r">How do we efficiently teach R?</h2>

<p>How to efficiently teach <em>R</em> has recently become a burning question, as the use of <em>R</em> for statistical computing is growing rapidly. Beyond the nature of an open-source platform, the magnitude of packages available for specific data analyses is massive. Also the extensive online support at e.g. <a href="/https://wwww.stackoverflow.com">Stack-overflow</a> and the possibilities for creating own packages drive researchers to <em>R</em>.</p>

<blockquote>
<p>The need for efficent data analysis and tools in R is there, but how do we teach R to students, who have no or very limmited experience with coding and statistics in general?</p>
</blockquote>

<p>Locally at Aarhus University there is no formal courses, lectures or workshops to fascilitate the use of <em>R</em> for students outside Mathematics or Statistics Deparments. For a while I have been interested in sharing some of the basic  concepts using R for data science with my fellow research colleges. I decided to go for it, prepare a basic workshop in <em>R</em>, although I do not have any previous experience in teaching statistics. The course was prepared in collaboration with my fellow college, PhD-candidate <a href="https://github.com/emiltb" target="_blank">Emil Tveden Bjerglund</a>. The workshop was designed as a interdisciplinary course with attendents from the faculty of Health, Clinical Medicine, and faculty of Science and Technology, Nanoscience.</p>

<p><br>
<br>
The workshop outline covered:</p>

<ol>
<li>”The R-Safari” - basic computations in <em>R</em></li>
<li>Simple mutations of a dataset using <strong>Dplyr</strong></li>
<li>”Show me data” – plotting with <strong>ggplot2</strong></li>
<li>Load and ”wrangle” of datasets - play with your own data.
<br>
<br></li>
</ol>

<h2 id="the-learnr-package">The <code>learnr</code> package</h2>

<p>To activate the students we found it usefull to build a small learning environment, which was loaded through the <code>learnr</code> package: <a href="https://github.com/emiltb/rbeginner" target="_blank">rbeginner</a>. Although some students struggled installing or updating R and loading the dependencies.</p>

<blockquote>
<p>Conclusion: Learnr tutorials is very useful! Avoid local installing for first-time user of R. The setup of R can be extremely difficult for the first-time user.</p>
</blockquote>

<h2 id="1-the-r-safari">1. &ldquo;The R safari&rdquo;</h2>

<p>It felt reasonable starting out by stating that <em>R</em> is basically an advanced calculator, and how vectors and assigning works. This familiarizing step was accomplished through the hands-on learning environment.</p>

<blockquote>
<p>following the short introduction we headed directly for functions in <strong>tidyverse</strong> ecosystem.</p>
</blockquote>

<h2 id="2-simple-mutations-and-dplyr">2. Simple mutations and <strong>dplyr</strong></h2>

<p>Often we have some data, where for each observation we have recorded several values of interest. The most straight-forward way to store such data is in a data-frame (or a tibble as it is also called). The data can be stored in a <em>tidy</em> format as illustrated below for the easiest access and manipulation.</p>

<p>There are three interrelated rules which make a dataset tidy:</p>

<ul>
<li>Each variable must have its own column.</li>
<li>Each observation must have its own row.</li>
<li>Each value must have its own cell.</li>
</ul>

<p>Dataframes in R can be constructed using the <code>tibble()</code> function. It is part of the <em>tidyverse</em> package, so we need to load that first.</p>

<pre><code class="language-r">library(tidyverse)

df &lt;- tibble(name = c(&quot;Emil&quot;, &quot;Anders&quot;),
             age = c(27, 27),
             height = c(170, 185),
             postcode = c(8000, 8000),
             edu = c(&quot;Nanoscience&quot;, &quot;Medicine&quot;))
df
</code></pre>

<pre><code>## # A tibble: 2 x 5
##     name   age height postcode         edu
##    &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;       &lt;chr&gt;
## 1   Emil    27    170     8000 Nanoscience
## 2 Anders    27    185     8000    Medicine
</code></pre>

<p>As you can see, we can easily organise our data in a tibble. From the output you can see the data-type of each column. We can access columns (<code>$</code>) or single values (<code>[]</code>), apply functions etc:</p>

<pre><code class="language-r">df$name
</code></pre>

<pre><code>## [1] &quot;Emil&quot;   &quot;Anders&quot;
</code></pre>

<pre><code class="language-r">df$edu[1]
</code></pre>

<pre><code>## [1] &quot;Nanoscience&quot;
</code></pre>

<pre><code class="language-r">sum(df$age)
</code></pre>

<pre><code>## [1] 54
</code></pre>

<p>A small dataframe like this is easy to handle, but often you will have many variables and observations. R has various functions for easily getting an overview of a dataframe.</p>

<p>A built-in example of a large dataset is called <code>diamonds</code>, and contains information about the price and quality of 53940 diamonds. Try using the functions <code>head()</code>, <code>summary()</code>, <code>str()</code> and <code>glimpse()</code> to gain information about the dataset.</p>

<pre><code class="language-r">diamonds
</code></pre>

<pre><code>## # A tibble: 53,940 x 10
##    carat       cut color clarity depth table price     x     y     z
##    &lt;dbl&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  0.23     Ideal     E     SI2  61.5    55   326  3.95  3.98  2.43
##  2  0.21   Premium     E     SI1  59.8    61   326  3.89  3.84  2.31
##  3  0.23      Good     E     VS1  56.9    65   327  4.05  4.07  2.31
##  4  0.29   Premium     I     VS2  62.4    58   334  4.20  4.23  2.63
##  5  0.31      Good     J     SI2  63.3    58   335  4.34  4.35  2.75
##  6  0.24 Very Good     J    VVS2  62.8    57   336  3.94  3.96  2.48
##  7  0.24 Very Good     I    VVS1  62.3    57   336  3.95  3.98  2.47
##  8  0.26 Very Good     H     SI1  61.9    55   337  4.07  4.11  2.53
##  9  0.22      Fair     E     VS2  65.1    61   337  3.87  3.78  2.49
## 10  0.23 Very Good     H     VS1  59.4    61   338  4.00  4.05  2.39
## # ... with 53,930 more rows
</code></pre>

<h2 id="3-show-me-data-plotting-with-ggplot">3. ”Show me data” – plotting with <strong>ggplot</strong></h2>

<p>The packages <code>ggplot2</code> is a part of the so called <code>tidyverse</code> package-environment. Using this Grammar of Graphics can be a little more time consuming in the beginning, when learning the syntax - however the reward is considerable, as you will be able to effectively edit a plot and make it <strong>reproduceable</strong>.</p>

<p>A basic example using the build-in dataset <code>iris</code> which contains information on different species of the iris-flower.</p>

<p>Firstly, assign a new emty <strong>ggplot</strong> to an element (e.g. called <code>p1</code>), and modify the plot. This is a basic example - try to explore different geom&rsquo;s, however note that the may depend on setting the aes() corretly, as a histogram only takes one variable (no y-axis) etc.</p>

<pre><code class="language-r">library(tidyverse) #Be sure, that the tidyverse environment is loaded
p1 &lt;- ggplot() #Create a new element and assign a ggplot

p1 &lt;- iris %&gt;%
        ggplot( aes( x = Sepal.Width)) + #Use Aesthetics = aes() inside a ggplot to define axis values, x = var.
        geom_histogram() +               #Use Geometrics = geom_xx() and add (+) it as a layer on the plot.
        facet_wrap(~Species)            #USe facets to plot in subgroups.

p1 #View your work by calling the element name, in this example 'p1'.                      
</code></pre>

<p><img src="/images/p1.png" alt="" /></p>

<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
</code></pre>

<p>Below, another example using the build-in dataset <code>mtcars</code>. Explore the variables yourself by writing <code>?mtcars</code> in the console.</p>

<pre><code class="language-r">p2 &lt;- mtcars %&gt;%
        ggplot( aes(x = hp, y = mpg, color = as.factor(cyl))) +
        geom_point()  +
        stat_smooth() +
        theme_bw()

p2
</code></pre>

<pre><code>## `geom_smooth()` using method = 'loess'
</code></pre>

<p><img src="/images/p2.png" alt="" /></p>

<p>Note how the plot developed through: Data -&gt; aes() -&gt; geom() -&gt; stat<em>() -&gt; theme</em>() &hellip;</p>

<h2 id="simple-mutations-of-data-using-dplyr">Simple mutations of data using <code>dplyr</code></h2>

<p>R has some built-in functions for working with dataframes. As is often the case, however, a package has been made that makes this even easier. In this tutorial, we will use <code>dplyr</code> from the <em>tidyverse</em>.</p>

<p>For this, we will use the built-in dataset call <code>iris</code>, which contain measurements lengths and widths for 50 flowers.</p>

<pre><code class="language-r">head(iris, 3)
</code></pre>

<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
</code></pre>

<p><code>dplyr</code> has 5 basic functions which cover most data challenges:</p>

<ul>
<li>Pick observations by their values (<code>filter()</code>).</li>
<li>Reorder the rows (<code>arrange()</code>).</li>
<li>Pick variables by their names (<code>select()</code>).</li>
<li>Create new variables with functions of existing variables (<code>mutate()</code>).</li>
<li>Collapse many values down to a single summary (<code>summarise()</code>).</li>
</ul>

<p>For example, two new variables can be created based on the exsisting variables by using <code>mutate()</code>:</p>

<pre><code class="language-r">iris %&gt;%
  mutate(product = Sepal.Length * Sepal.Width,
         diff = Sepal.Length - Petal.Length)
</code></pre>

<p>Create summary statistics by group using <code>group_by</code>:</p>

<pre><code class="language-r">iris %&gt;%
  group_by(Species) %&gt;%
  summarise(mean = mean(Sepal.Length), sd = sd(Sepal.Length))
</code></pre>

<pre><code>## # A tibble: 3 x 3
##      Species  mean        sd
##       &lt;fctr&gt; &lt;dbl&gt;     &lt;dbl&gt;
## 1     setosa 5.006 0.3524897
## 2 versicolor 5.936 0.5161711
## 3  virginica 6.588 0.6358796
</code></pre>

<p>Or filter out those flowers with a Sepal length larger than 6.5 and a Petal length larger than 6.0:</p>

<pre><code class="language-r">iris %&gt;%
  filter(Sepal.Length &gt; 6.5, Petal.Length &gt; 6.0)
</code></pre>

<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
## 1          7.6         3.0          6.6         2.1 virginica
## 2          7.3         2.9          6.3         1.8 virginica
## 3          7.2         3.6          6.1         2.5 virginica
## 4          7.7         3.8          6.7         2.2 virginica
## 5          7.7         2.6          6.9         2.3 virginica
## 6          7.7         2.8          6.7         2.0 virginica
## 7          7.4         2.8          6.1         1.9 virginica
## 8          7.9         3.8          6.4         2.0 virginica
## 9          7.7         3.0          6.1         2.3 virginica
</code></pre>

<h2 id="moving-forward">Moving forward</h2>

<p>This fist step has provided insightfull knowledge in creating <em>R</em> workshops, howvever many things needs to be improved. The focus will be on moving to a <em>R</em> server platform, optimizing the time to first resonable <strong>ggplot</strong> to keep up motivation. Also, extending with <em>GitHub</em> and some basic markdown is on the list.</p>

    </div>
  </div>

</article>

<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="/post/2017-02-14-first-post/"><span
      aria-hidden="true">&larr;</span> Welcome to my personal research site</a></li>
    

    
    <li class="next"><a href="/post/2017-07-27-fftrees-in-medicine/">Fast and Frugal Trees for decision making in medicine <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>

<div class="article-container">
  

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2016 Anders Sjørslev Schmidt &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js" integrity="sha512-iHzEu7GbSc705hE2skyH6/AlTpOfBmkx7nUqTLGzPYR+C1tRaItbRlJ7hT/D3YQ9SV0fqLKzp4XY9wKulTBGTw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js" integrity="sha512-Z5heTz36xTemt1TbtbfXtTq5lMfYnOkXM2/eWcTTiLU01+Sw4ku1i7vScDc8fWhrP2abz9GQzgKH5NGBLoYlAw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/plugins/ScrollToPlugin.min.js" integrity="sha512-CDeU7pRtkPX6XJtF/gcFWlEwyaX7mcAp5sO3VIu/ylsdR74wEw4wmBpD5yYTrmMAiAboi9thyBUr1vXRPA7t0Q==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

